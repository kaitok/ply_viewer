<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Graphics</title>
    <style>
      body { margin: 0; }
		</style>
  </head>
  <body>
    <script src="js/three.js"></script>
    <script src="js/PLYLoader.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script>

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
      camera.position.set(0, 0, 12);

      const renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );
      document.body.appendChild( renderer.domElement );

      var controls = new THREE.OrbitControls( camera, renderer.domElement );
      update();

      const plyLoader = new THREE.PLYLoader();
      const plyMaterial = new THREE.PointsMaterial({
        color: 0x00ff00,
        size: 0.05
      });

      plyLoader.load('./data/sample.ply', (geometry) => {
        group = new THREE.Points(geometry, plyMaterial);
        group.sortParticles = true;
        scene.add(group);
        renderer.render( scene, camera );
      });

      function update() {
        renderer.render(scene, camera);
        requestAnimationFrame(update);
      }

		</script>
  </body>
</html>